# ============================================
# FLEETFLOW ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to Git!

# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=development
PORT=5000

# ============================================
# DATABASE
# ============================================
# Local Development
MONGODB_URI=mongodb://localhost:27017/fleetflow

# Production (MongoDB Atlas - Free M0 Cluster)
# Get from: https://cloud.mongodb.com
# Format: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/fleetflow?retryWrites=true&w=majority
# MONGODB_URI=mongodb+srv://user:password@cluster0.xxxxx.mongodb.net/fleetflow

# ============================================
# AUTHENTICATION
# ============================================
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# ============================================
# AI SERVICES (Route Optimization)
# ============================================
# Choose ONE provider: groq or gemini

# Option 1: Groq (Recommended - Free & Fast)
# Get from: https://console.groq.com/keys
AI_PROVIDER=groq
GROQ_API_KEY=gsk_your_groq_api_key_here
GROQ_MODEL=llama-3.1-8b-instant

# Option 2: Google Gemini (Alternative)
# Get from: https://makersuite.google.com/app/apikey
# AI_PROVIDER=gemini
# GEMINI_API_KEY=AIzaSy_your_gemini_api_key_here
# GEMINI_MODEL=gemini-2.0-flash-exp

# ============================================
# EXTERNAL APIs
# ============================================

# TomTom Maps & Routing API
# Get from: https://developer.tomtom.com/user/me/apps
# Free tier: 2,500 requests/day
TOMTOM_API_KEY=your_tomtom_api_key_here

# WeatherAPI.com
# Get from: https://www.weatherapi.com/signup.aspx
# Free tier: 1M requests/month
WEATHER_API_KEY=your_weather_api_key_here

# ============================================
# OAUTH 2.0 (Google Sign-In)
# ============================================
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your-google-client-secret
CLIENT_URL=http://localhost:3000

# Production URLs (uncomment for production)
# CLIENT_URL=https://fleetflow.vercel.app

# ============================================
# PAYMENT GATEWAY (Razorpay)
# ============================================
# Get from: https://dashboard.razorpay.com/app/keys
# Use test keys for development
RAZORPAY_KEY_ID=rzp_test_your_key_id
RAZORPAY_KEY_SECRET=your_razorpay_secret

# Production keys (uncomment for production)
# RAZORPAY_KEY_ID=rzp_live_your_key_id
# RAZORPAY_KEY_SECRET=your_razorpay_live_secret

# ============================================
# FRONTEND CONFIGURATION (Vite)
# ============================================
# These MUST start with VITE_ to be accessible in frontend

# Backend API URL
VITE_API_URL=http://localhost:5000/api

# Production API URL (uncomment for production)
# VITE_API_URL=https://fleetflow-api.onrender.com/api

# Frontend needs these for client-side map rendering
VITE_TOMTOM_API_KEY=your_tomtom_api_key_here
VITE_WEATHER_API_KEY=your_weather_api_key_here

# ============================================
# OPTIONAL: CACHING (Upstash Redis)
# ============================================
# Get from: https://console.upstash.com
# Free tier: 10,000 commands/day
# REDIS_URL=redis://default:your_password@your-redis.upstash.io:6379

# ============================================
# OPTIONAL: MONITORING & LOGGING
# ============================================
# LOG_LEVEL=info
# SENTRY_DSN=your_sentry_dsn_for_error_tracking

# ============================================
# PRODUCTION SECURITY
# ============================================
# Allowed origins for CORS (comma-separated)
# CORS_ORIGIN=https://fleetflow.vercel.app,https://www.fleetflow.com

# Session secret for production
# SESSION_SECRET=your-session-secret-change-this

# ============================================
# RATE LIMITING
# ============================================
# Requests per 15 minutes per IP
# RATE_LIMIT_MAX=2000

# AI API rate limit (requests per minute)
# AI_RATE_LIMIT_RPM=30

# ============================================
# NOTES FOR PRODUCTION DEPLOYMENT
# ============================================
# 
# 1. MongoDB Atlas Setup:
#    - Create free M0 cluster at mongodb.com/cloud/atlas
#    - Whitelist IP: 0.0.0.0/0 (for Render.com)
#    - Create database user with password
#    - Copy connection string to MONGODB_URI
#
# 2. Render.com Environment Variables:
#    - Add all variables except VITE_* ones
#    - Set NODE_ENV=production
#    - Set PORT=10000 (Render default)
#
# 3. Vercel Environment Variables:
#    - Add only VITE_* variables
#    - Set VITE_API_URL to your Render backend URL
#
# 4. Security Checklist:
#    - Change all default secrets
#    - Use strong JWT_SECRET (64+ characters)
#    - Enable CORS_ORIGIN whitelist
#    - Use production API keys (not test keys)
#    - Never commit .env to Git!
#
# ============================================
